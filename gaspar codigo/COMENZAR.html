<!DOCTYPE html>
<html>
    <head>
        <title>preguntas</title>
        <link rel="stylesheet" href="style.css">
        <meta charset="utf-8"> 
    </head>
    <body> 
        
        <div id="main">
            <h2 id="pregunta" onclick="caca()"></h2>                         
            <button id="res1" onclick="recargar(1)"></button> 
            <button id="res2" onclick="recargar(2)"></button>
            <button id="res3" onclick="recargar(3)"></button>
            <button id="res4" onclick="recargar(4)"></button>
        
        </div>  
        <script type="text/javascript" src="PREGUNTAS.js"></script>
        <script>
            // window.document.location='TOPSCORES.html?id='+f;
            // {} [] <>  
            var mydata= JSON.parse(data);
            const totalinicial=mydata.length;
            var pregunta = randomNumber(0, mydata.length);
            recargar();
            function recargar(a){                
                var correcta = mydata[pregunta].correcta
                if(a!=null){
                    if(a!=correcta){
                        var score = totalinicial-mydata.length;
                        localStorage.setItem('score',score);
                        window.document.location='TOPSCORES.html'
                    }
                    else{
                        if(mydata.length != 0){
                        var score = totalinicial-mydata.length;
                        mydata.splice(pregunta,1);
                        var largo = mydata.length;
                        pregunta = randomNumber(0, largo);                        
                    }
                    }   
                        if (mydata.length == 0){
                        var score = totalinicial-mydata.length;
                        localStorage.setItem('score',score);
                        window.document.location='TOPSCORES.html'}
                    }
                var x=pregunta;
                var preg = document.getElementById("pregunta");
                preg.innerHTML=mydata[x].pregunta;
                var respuesta1=document.getElementById("res1");
                var respuesta2=document.getElementById("res2");
                var respuesta3=document.getElementById("res3");
                var respuesta4=document.getElementById("res4");
                respuesta1.innerHTML=mydata[x].respuesta1;
                respuesta2.innerHTML=mydata[x].respuesta2;
                respuesta3.innerHTML=mydata[x].respuesta3;
                respuesta4.innerHTML=mydata[x].respuesta4; 
            }
            function randomNumber(min,max){
            
            const r = Math.random()*(max-min) + min;
                return  Math.floor(r)
            }   
            function caca(){
                var preg=document.getElementById("pregunta");
                preg.style.backgroundColor="rgb(240, 115, 70)";

            }  
            
        </script>
    </body>
</html>

